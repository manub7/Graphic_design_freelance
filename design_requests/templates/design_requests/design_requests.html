{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col">
                <h2 class="text-center">DESIGN REQUEST</h2>
            </div>
        </div>
    </div>
{% endblock %}

{% block content %}

<div class="container">
    <form action="" class="mt-5" method="POST" enctype="multipart/form-data">
        {% if error %}
        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>
        {% endif %}

        {% csrf_token %}

        <div class="form-group">
            <label for="category">Design category</label>
            <select class="form-control" id="category" name="category">
                {% for category in categories %}
                <option value="{{ portofolio_category.id }}" required>{{ category.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="width">Width</label>
            <div class="input-group mb-3">
<<<<<<< HEAD
                <input type="number" class="form-control" id="width" name="width" placeholder="1920" required>
=======
                <input type="number" class="form-control" id="width" name="width" placeholder="1920  or min 50" min = "50"  required>
>>>>>>> 3b3750f8b661db1e4ab50f186094dc315d01ec68
                <div class="input-group-append">
                    <span class="input-group-text">px</span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="height">Height</label>
            <div class="input-group mb-3">
<<<<<<< HEAD
                <input type="number" class="form-control" id="height" name="height" placeholder="1080" required>
=======
                <input type="number" class="form-control" id="height" name="height" placeholder="1080  or min 50" min = "50"  required>
>>>>>>> 3b3750f8b661db1e4ab50f186094dc315d01ec68
                <div class="input-group-append">
                    <span class="input-group-text">px</span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" rows="3" name="description" maxlength="200"  minlength="10" required></textarea>
        </div>

        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" id="provide-source" type="checkbox" value="" name="provide_source_files">
                <label class="form-check-label" for="provide-source">
                    Provide source files
                </label>
            </div>
        </div>

<<<<<<< HEAD
        <div class="form-group">
=======
        <div class="form-group" id="attachments-div">
>>>>>>> 3b3750f8b661db1e4ab50f186094dc315d01ec68
            <label for="attachments">Attachments</label>
            <input type="file" class="form-control-file" id="attachments" name="attachments" multiple>
        </div>
        <div class="form-group">
            <label for="total"><strong>Total: Â£</strong></label>
            <input type="text" name='total' id = 'total'>
        </div>
        <button class="btn btn-primary" type="submit">Submit</button>
    </form>

</div>
    
{% endblock %}

{% block postloadjs %}
<<<<<<< HEAD
<script type="text/javascript">

$('#width').keyup(calc);
    $('#height').keyup(calc);

    function calc () {

        var width = parseFloat($('#width').val(),2);

        if ($('#height').val() === '') {
            var height = 1
        }
        else {
            var height = parseFloat($('#height').val(),2);
        }
        var size = width*height*3/1024;
        var price_factor = JSON.parse({{price_factor}})

        var total = size * price_factor

        $('#total').val(total)
    }     
</script>
=======

{{ block.super }}
{% include 'design_requests/includes/post_scripts.html' %}

>>>>>>> 3b3750f8b661db1e4ab50f186094dc315d01ec68
{% endblock %}


